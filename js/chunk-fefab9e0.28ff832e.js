(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fefab9e0"],{"275e":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"media-link-editor"},[n("UiItem",e._b({staticClass:"ui-clickable",on:{click:function(t){e.isEditing=!0}}},"UiItem",e.sanitizedValue,!1)),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isEditing,expression:"isEditing"}],staticClass:"link-editor-form"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.innerValue.href,expression:"innerValue.href"}],staticClass:"ui-native",attrs:{type:"text",placeholder:"http://..."},domProps:{value:e.innerValue.href},on:{input:function(t){t.target.composing||e.$set(e.innerValue,"href",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.innerValue.text,expression:"innerValue.text"}],staticClass:"ui-native",attrs:{type:"text",placeholder:"Titulo"},domProps:{value:e.innerValue.text},on:{input:function(t){t.target.composing||e.$set(e.innerValue,"text",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.innerValue.secondary,expression:"innerValue.secondary"}],staticClass:"ui-native",attrs:{type:"text",placeholder:"Descripcion"},domProps:{value:e.innerValue.secondary},on:{input:function(t){t.target.composing||e.$set(e.innerValue,"secondary",t.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:e.innerValue.target,expression:"innerValue.target"}],staticClass:"ui-native",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.innerValue,"target",t.target.multiple?n:n[0])}}},[n("option",[e._v("Destino")]),n("option",{attrs:{value:"_system"}},[e._v("Nueva pestaña")]),n("option",{attrs:{value:"_self"}},[e._v("Pestaña actual")])]),n("div",{staticClass:"link-editor-form-footer"},[n("button",{staticClass:"ui-button --main",attrs:{type:"button"},on:{click:e.accept}},[e._v("OK")]),n("button",{staticClass:"ui-button --cancel",attrs:{type:"button"},on:{click:e.cancel}},[e._v("Cancel")])])])],1)},a=[],r=n("1da1"),s=(n("96cf"),n("a4d3"),n("e01a"),n("a414")),u=n("fa30"),o=n("613b"),c={name:"MediaLinkEditor",mixins:[s["b"]],api:o["a"],components:{UiItem:u["q"]},props:{value:{type:Object,required:!0}},data:function(){return{innerValue:null,isEditing:!1}},watch:{value:{immediate:!0,handler:function(e){this.innerValue=JSON.parse(JSON.stringify(e)),this.isEditing=this.isEmpty}}},computed:{isEmpty:function(){return!this.innerValue.href&&!this.innerValue.text&&!this.innerValue.secondary},sanitizedValue:function(){return{href:this.innerValue.href,text:this.innerValue.text||"Sin título",secondary:this.innerValue.secondary,icon:this.innerValue.icon||"mdi:open-in-new"}}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.value.href||e.value.text){t.next=7;break}return e.innerValue.text="... fetching ...",e.innerValue.secondary=e.value.href,t.next=5,e.$api.getUrlDetails(e.value.href);case 5:n=t.sent,n&&(e.innerValue.text=n.title,e.innerValue.secondary=n.description,e.$emit("input",JSON.parse(JSON.stringify(e.innerValue))));case 7:case"end":return t.stop()}}),t)})))()},methods:{accept:function(){this.$emit("input",JSON.parse(JSON.stringify(this.innerValue))),this.isEditing=!1},cancel:function(){this.innerValue=JSON.parse(JSON.stringify(this.value)),this.isEditing=!1,this.isEmpty&&this.$emit("delete")},doDelete:function(){confirm("Eliminar este vínculo ?")&&this.$emit("delete")}}},l=c,p=(n("8131"),n("2877")),d=Object(p["a"])(l,i,a,!1,null,null,null);t["default"]=d.exports},"613b":function(e,t,n){"use strict";n("99af");var i={};t["a"]=function(e){return e.baseURL="http://v4.local/",{getPage:function(t){return"undefined"==typeof i[t]&&(i[t]=e.get("/1/cms/pages/".concat(t))),i[t]},getDraft:function(t){return e.get("/1/cms/pages/".concat(t,"/draft"))},saveDraft:function(t,n){return i[t]=void 0,e.put("/1/cms/pages/".concat(t,"/draft"),n)},publish:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.put("/1/cms/pages/".concat(t,"/publish"),n)},getUrlDetails:function(t){return e.get("/1/proxy/url/details",{url:t})},uploadBlob:function(t,n,i){var a=new FormData;return a.append("files",i,n),e.post("/1/cms/pages/".concat(t,"/files"),a)},obtainRecord:function(t,n){return e.get("/1/cms/people/".concat(n,"/pages/").concat(t,"/record"))},updateRecord:function(t,n,i){return e.put("/1/cms/people/".concat(n,"/pages/").concat(t,"/record"),i)}}}},8131:function(e,t,n){"use strict";n("9e60")},"9e60":function(e,t,n){}}]);
//# sourceMappingURL=chunk-fefab9e0.28ff832e.js.map