(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15f6d74c"],{"458c":function(e,i,t){"use strict";t("6e30")},"6e30":function(e,i,t){},cc96:function(e,i,t){"use strict";t.r(i);var a=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"media-gallery-editor"},[t("UiField",{attrs:{label:"Vista"}},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.innerValue.view,expression:"innerValue.view"}],on:{change:[function(i){var t=Array.prototype.filter.call(i.target.options,(function(e){return e.selected})).map((function(e){var i="_value"in e?e._value:e.value;return i}));e.$set(e.innerValue,"view",i.target.multiple?t:t[0])},e.emitInput]}},[t("option",{attrs:{value:"list"}},[e._v("Lista")]),t("option",{attrs:{value:"grid"}},[e._v("Cuadrícula")]),t("option",{attrs:{value:"gallery"}},[e._v("Galería")])])]),t("UiField",{directives:[{name:"show",rawName:"v-show",value:"gallery"==e.innerValue.view,expression:"innerValue.view == 'gallery'"}],attrs:{label:"Max. a mostrar en vista previa"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.innerValue.previewLimit,expression:"innerValue.previewLimit"}],attrs:{type:"number",min:"1"},domProps:{value:e.innerValue.previewLimit},on:{input:[function(i){i.target.composing||e.$set(e.innerValue,"previewLimit",i.target.value)},e.emitInput]}})]),t("draggable",{staticClass:"media-gallery-editor-list",attrs:{handle:".image-preview"},on:{input:e.emitInput},model:{value:e.innerValue.files,callback:function(i){e.$set(e.innerValue,"files",i)},expression:"innerValue.files"}},e._l(e.innerValue.files,(function(i,a){return t("div",{key:a,staticClass:"editor-list-item"},[t("div",{staticClass:"image-preview"},[t("img",{attrs:{src:i.preview}})]),t("div",{staticClass:"image-title-wrapper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.innerValue.files[a].title,expression:"innerValue.files[i].title"}],staticClass:"ui-native",attrs:{type:"text"},domProps:{value:e.innerValue.files[a].title},on:{input:[function(i){i.target.composing||e.$set(e.innerValue.files[a],"title",i.target.value)},e.emitInput]}})]),t("UiIcon",{staticClass:"image-delete-icon",attrs:{value:"mdi:delete",title:"Eliminar"},on:{click:function(i){return i.stopPropagation(),e.removeImage(a)}}})],1)})),0),t("UiFileUploader",{attrs:{path:e.path,"accepted-files":"image/*"},on:{success:e.onUploadSuccess,error:e.onUploadError}},[t("div",{staticClass:"gallery-editor-uploader"},[e._v("Subir imágenes")])])],1)},n=[],r=(t("a434"),t("159b"),t("b0c0"),t("fa30")),l=t("b76a"),s=t.n(l),u={name:"MediaGalleryEditor",components:{UiField:r["f"],UiIcon:r["m"],UiFileUploader:r["j"],draggable:s.a},props:{value:{type:Object},path:{type:String,required:!0}},data:function(){return{innerValue:{}}},watch:{value:{immediate:!0,handler:function(e){this.innerValue=JSON.parse(JSON.stringify(e)),Array.isArray(this.innerValue.files)&&this.innerValue.files||this.$set(this.innerValue,"files",[])}}},methods:{removeImage:function(e){confirm("Eliminar esta imagen?")&&(this.innerValue.files.splice(e,1),this.emitInput())},onUploadSuccess:function(e){var i=this;e.forEach((function(e){e.preview&&i.innerValue.files.push({title:e.name,url:e.url,thumbnail:e.thumbnail,preview:e.preview})})),this.emitInput()},onUploadError:function(e){alert("Error subiendo archivos"),console.log("GalleryEditor.vue: Error subiendo archivos",e)},emitInput:function(){this.$emit("input",JSON.parse(JSON.stringify(this.innerValue)))}}},o=u,c=(t("458c"),t("2877")),p=Object(c["a"])(o,a,n,!1,null,null,null);i["default"]=p.exports}}]);
//# sourceMappingURL=chunk-15f6d74c.d5c5d958.js.map