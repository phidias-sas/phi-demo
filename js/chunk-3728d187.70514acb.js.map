{"version":3,"sources":["webpack:///./packages/cms/plugins/input/components/InputSettings/InputSettings.vue?ca3b","webpack:///./packages/cms/plugins/input/components/InputSettings/InputSettings.vue?07f3","webpack:///./packages/cms/mixins/BlockModel.js","webpack:///packages/cms/plugins/input/components/InputSettings/InputSettings.vue","webpack:///./packages/cms/plugins/input/components/InputSettings/InputSettings.vue?36e6","webpack:///./packages/cms/plugins/input/components/InputSettings/InputSettings.vue"],"names":["props","value","type","Object","required","variables","default","data","block","watch","immediate","deep","handler","newValue","this","JSON","parse","stringify","methods","input","$emit","cancel","getProp","propName","defaultValue","setProp","$set","getVariable","variableName","getObjectProperty","setVariable","setObjectProperty","sourceObject","propertyName","s","o","replace","a","split","i","n","length","k","curvar","parts","len","name","mixins","components","showTypePicker","Boolean","types","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","directives","rawName","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","selected","map","val","_value","multiple","_l","key","domProps","_v","_s","text","undefined","_e","model","callback","$$v","staticRenderFns","component"],"mappings":"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","file":"js/chunk-3728d187.70514acb.js","sourcesContent":["export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"08dfcdae-vue-loader-template\\\"}!../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputSettings.vue?vue&type=template&id=339185d0&\"","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputSettings.vue?vue&type=script&lang=js&\"","export default {\r\n  props: {\r\n    value: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n\r\n    variables: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({})\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      block: null\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    value: {\r\n      immediate: true,\r\n      deep: true,\r\n      handler(newValue) {\r\n        if (!newValue) {\r\n          this.block = {};\r\n          return;\r\n        }\r\n\r\n        this.block = JSON.parse(JSON.stringify(newValue));\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    input() {\r\n      this.$emit('input', this.block);\r\n    },\r\n\r\n    cancel() {\r\n      this.block = JSON.parse(JSON.stringify(this.value));\r\n      this.$emit('cancel');\r\n    },\r\n\r\n    getProp(propName, defaultValue = null) {\r\n      return this.block.props\r\n        && this.block.props[propName]\r\n        ? this.block.props[propName]\r\n        : defaultValue;\r\n    },\r\n\r\n    setProp(propName, value) {\r\n      if (!this.block.props) {\r\n        this.$set(this.block, 'props', {});\r\n      }\r\n\r\n      this.$set(this.block.props, propName, value);\r\n      this.$emit(\"input\", this.block);\r\n    },\r\n\r\n    getVariable(variableName) {\r\n      return this.getObjectProperty(this.variables, variableName);\r\n    },\r\n\r\n    setVariable(variableName, value) {\r\n      this.setObjectProperty(this.variables, variableName, value);\r\n      this.$emit(\"update:variables\", this.variables);\r\n    },\r\n\r\n    // https://stackoverflow.com/questions/6491463/accessing-nested-javascript-objects-with-string-key\r\n    getObjectProperty(sourceObject, propertyName) {\r\n      if (!sourceObject || !propertyName) {\r\n        return undefined;\r\n      }\r\n\r\n      let s = propertyName;\r\n      let o = sourceObject;\r\n\r\n      s = s.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties\r\n      s = s.replace(/^\\./, '');           // strip a leading dot\r\n      var a = s.split('.');\r\n      for (var i = 0, n = a.length; i < n; ++i) {\r\n        var k = a[i];\r\n        if (k in o) {\r\n          o = o[k];\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n      return o;\r\n    },\r\n\r\n    setObjectProperty(sourceObject, propertyName, value) {\r\n      let curvar = sourceObject;\r\n      let parts = propertyName.split('.');\r\n      let len = parts.length;\r\n\r\n      for (let i = 0; i < len - 1; i++) {\r\n        if (typeof curvar[parts[i]] == \"undefined\") {\r\n          this.$set(curvar, parts[i], {});\r\n        }\r\n        curvar = curvar[parts[i]];\r\n      }\r\n\r\n      this.$set(curvar, parts[len - 1], value);\r\n    }\r\n\r\n  }\r\n}","<template>\r\n  <div class=\"input-settings\">\r\n    <!-- <UiInput\r\n      xxxxv-if=\"showTypePicker\"\r\n      type=\"select\"\r\n      label=\"Tipo\"\r\n      :options=\"types\"\r\n      v-model=\"block.props.type\"\r\n      @input=\"input\"\r\n    ></UiInput> -->\r\n\r\n    <UiField label=\"Tipo\">\r\n      <select\r\n        class=\"ui-native\"\r\n        v-model=\"block.props.type\"\r\n        @change=\"input\"\r\n      >\r\n        <option\r\n          v-for=\"type in types\"\r\n          :key=\"type.value\"\r\n          :value=\"type.value\"\r\n        >{{ type.text}}</option>\r\n      </select>\r\n    </UiField>\r\n\r\n    <!-- <UiField\r\n      v-if=\"block.props.type == 'select'\"\r\n      label=\"Opciones\"\r\n    >\r\n      <SelectOptionsEditor\r\n        v-model=\"block.props.options\"\r\n        @input=\"input\"\r\n      ></SelectOptionsEditor>\r\n    </UiField> -->\r\n    <UiField\r\n      v-if=\"block.props.type == 'date' || block.props.type == 'timestamp'\"\r\n      label=\"Selector de hora\"\r\n    >\r\n      <select\r\n        class=\"ui-native\"\r\n        v-model=\"block.props.time\"\r\n        @change=\"input\"\r\n      >\r\n        <option :value=\"undefined\">Desactivado</option>\r\n        <option value=\"12\">AM/PM</option>\r\n        <option value=\"24\">24 horas</option>\r\n      </select>\r\n      <!-- !!! se debe usar @change en vez de @input, de lo contrario el cambio no es reactivo (?!) -->\r\n      <!--\r\n      <input\r\n        type=\"checkbox\"\r\n        v-model=\"block.props.time\"\r\n        @change=\"input\"\r\n      />\r\n      -->\r\n    </UiField>\r\n\r\n    <UiInput\r\n      type=\"text\"\r\n      label=\"Etiqueta\"\r\n      v-model=\"block.props.label\"\r\n      @input=\"input\"\r\n    ></UiInput>\r\n\r\n    <UiInput\r\n      type=\"text\"\r\n      label=\"Subtexto\"\r\n      v-model=\"block.props.message\"\r\n      @input=\"input\"\r\n    ></UiInput>\r\n\r\n    <UiInput\r\n      type=\"text\"\r\n      label=\"Placeholder\"\r\n      v-model=\"block.props.placeholder\"\r\n      @input=\"input\"\r\n    ></UiInput>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BlockModel from '../../../../mixins/BlockModel.js';\r\nimport { UiField, UiInput } from '/packages/ui';\r\n// import SelectOptionsEditor from './SelectOptionsEditor.vue';\r\n\r\nexport default {\r\n  name: 'InputSettings',\r\n  mixins: [BlockModel],\r\n  components: { UiField, UiInput },\r\n\r\n  props: {\r\n    showTypePicker: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      types: [\r\n        {\r\n          icon: 'mdi:form-textbox',\r\n          text: 'Text',\r\n          value: 'text',\r\n        },\r\n        {\r\n          icon: 'mdi:form-textarea',\r\n          text: 'Textarea',\r\n          value: 'textarea',\r\n        },\r\n        {\r\n          icon: 'mdi:form-dropdown',\r\n          text: 'Select',\r\n          value: 'select',\r\n        },\r\n        {\r\n          icon: 'mdi:checkbox-blank-outline',\r\n          text: 'Checkbox',\r\n          value: 'checkbox',\r\n        },\r\n        {\r\n          icon: 'mdi:calendar',\r\n          text: 'Fecha',\r\n          value: 'timestamp',\r\n        },\r\n        {\r\n          icon: 'mdi:numeric',\r\n          text: 'Número',\r\n          value: 'number',\r\n        },\r\n        {\r\n          icon: 'mdi:form-textbox-password',\r\n          text: 'Contraseña',\r\n          value: 'password',\r\n        },\r\n        {\r\n          icon: 'mdi:paperclip',\r\n          text: 'Archivo',\r\n          value: 'file',\r\n        },\r\n        {\r\n          icon: 'mdi:paperclip',\r\n          text: 'Botón',\r\n          value: 'button',\r\n        },\r\n      ],\r\n    };\r\n  },\r\n};\r\n</script>","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-settings\"},[_c('UiField',{attrs:{\"label\":\"Tipo\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.block.props.type),expression:\"block.props.type\"}],staticClass:\"ui-native\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.block.props, \"type\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.input]}},_vm._l((_vm.types),function(type){return _c('option',{key:type.value,domProps:{\"value\":type.value}},[_vm._v(_vm._s(type.text))])}),0)]),(_vm.block.props.type == 'date' || _vm.block.props.type == 'timestamp')?_c('UiField',{attrs:{\"label\":\"Selector de hora\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.block.props.time),expression:\"block.props.time\"}],staticClass:\"ui-native\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.block.props, \"time\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.input]}},[_c('option',{domProps:{\"value\":undefined}},[_vm._v(\"Desactivado\")]),_c('option',{attrs:{\"value\":\"12\"}},[_vm._v(\"AM/PM\")]),_c('option',{attrs:{\"value\":\"24\"}},[_vm._v(\"24 horas\")])])]):_vm._e(),_c('UiInput',{attrs:{\"type\":\"text\",\"label\":\"Etiqueta\"},on:{\"input\":_vm.input},model:{value:(_vm.block.props.label),callback:function ($$v) {_vm.$set(_vm.block.props, \"label\", $$v)},expression:\"block.props.label\"}}),_c('UiInput',{attrs:{\"type\":\"text\",\"label\":\"Subtexto\"},on:{\"input\":_vm.input},model:{value:(_vm.block.props.message),callback:function ($$v) {_vm.$set(_vm.block.props, \"message\", $$v)},expression:\"block.props.message\"}}),_c('UiInput',{attrs:{\"type\":\"text\",\"label\":\"Placeholder\"},on:{\"input\":_vm.input},model:{value:(_vm.block.props.placeholder),callback:function ($$v) {_vm.$set(_vm.block.props, \"placeholder\", $$v)},expression:\"block.props.placeholder\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./InputSettings.vue?vue&type=template&id=339185d0&\"\nimport script from \"./InputSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./InputSettings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}