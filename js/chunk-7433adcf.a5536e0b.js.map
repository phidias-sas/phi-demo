{"version":3,"sources":["webpack:///./packages/cms/plugins/media/components/MediaImage/MediaImagePicker.vue?4473","webpack:///packages/cms/plugins/media/components/MediaImage/MediaImage.vue","webpack:///./packages/cms/plugins/media/components/MediaImage/MediaImage.vue","webpack:///./packages/cms/plugins/media/components/MediaImage/MediaImagePicker.vue","webpack:///./packages/cms/plugins/media/components/MediaImage/MediaImage.vue?c476","webpack:///./packages/cms/plugins/media/components/MediaImage/MediaImage.vue?569c","webpack:///./packages/cms/plugins/media/components/MediaImage/MediaImagePicker.vue?2e30","webpack:///./packages/cms/plugins/media/components/MediaImage/MediaImagePicker.vue?399e","webpack:///./packages/cms/plugins/media/components/MediaImage/MediaImagePicker.vue?5e97","webpack:///./packages/cms/plugins/media/components/MediaImage/MediaImage.vue?1500","webpack:///./packages/cms/plugins/media/components/MediaImage/MediaImage.vue?81b3","webpack:///packages/cms/plugins/media/components/MediaImage/MediaImagePicker.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","isEmpty","attrs","domProps","value","on","$event","type","indexOf","_k","keyCode","key","$emit","target","path","onUploadSuccess","onUploadError","_v","staticRenderFns","name","props","src","String","required","default","href","height","Number","sizing","attachment","data","isError","computed","style","watch","immediate","handler","methods","onClick","window","open","onImageError","component","components","trim","e","url","alert","console","log","err"],"mappings":"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","file":"js/chunk-7433adcf.a5536e0b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"media-image-picker\",class:{'--empty': _vm.isEmpty, '--notempty': !_vm.isEmpty}},[_c('div',{staticClass:\"input-url\"},[_c('input',{staticClass:\"ui-native\",attrs:{\"placeholder\":\"URL\",\"type\":\"text\",\"xxxxinput\":\"$emit('input', $event.target.value)\"},domProps:{\"value\":_vm.value},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.$emit('input', $event.target.value)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }$event.target.value = _vm.value}]}})]),_c('UiFileUploader',{attrs:{\"path\":_vm.path,\"max-files\":\"1\",\"accepted-files\":\"image/*\"},on:{\"success\":_vm.onUploadSuccess,\"error\":_vm.onUploadError}},[_c('div',{staticClass:\"image-picker-face\"},[_c('div',{staticClass:\"image-picker-overlay\"},[_c('UiIcon',{attrs:{\"value\":\"mdi:upload\"}}),_c('p',[_vm._v(\"Subir imagen\")])],1),_c('MediaImage',{attrs:{\"src\":_vm.value}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    :class=\"['media-image', {'ui-clickable': !!this.href}]\"\r\n    @click=\"onClick()\"\r\n    :style=\"style\"\r\n  >\r\n    <img\r\n      v-if=\"src && !isError\"\r\n      :src=\"src\"\r\n      @error=\"onImageError\"\r\n    />\r\n    <div\r\n      v-else\r\n      class=\"media-image-placeholder\"\r\n    ></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'MediaImage',\r\n  props: {\r\n    src: {\r\n      type: String,\r\n      required: false,\r\n      default: null,\r\n    },\r\n\r\n    href: {\r\n      type: String,\r\n      required: false,\r\n      default: null,\r\n    },\r\n\r\n    height: {\r\n      type: [Number, String],\r\n      required: false,\r\n      default: 350,\r\n    },\r\n\r\n    sizing: {\r\n      type: String,\r\n      required: false,\r\n      default: 'contain', // \"cover\" o \"contain\"\r\n    },\r\n\r\n    attachment: {\r\n      type: String,\r\n      required: false,\r\n      default: null,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      isError: false,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    style() {\r\n      return {};\r\n      // return {\r\n      //   backgroundImage: this.src ? `url(${this.src})` : '',\r\n      //   backgroundSize: this.sizing,\r\n      //   backgroundRepeat: 'no-repeat',\r\n      //   backgroundPosition: '50% 0',\r\n      //   backgroundAttachment: this.attachment,\r\n      //   height: parseInt(this.height) + 'px',\r\n      // };\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    src: {\r\n      immediate: true,\r\n      handler() {\r\n        this.isError = false;\r\n      },\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    onClick() {\r\n      this.$emit('click');\r\n      if (!this.href) {\r\n        return;\r\n      }\r\n\r\n      window.open(this.href, '_system');\r\n    },\r\n\r\n    onImageError() {\r\n      this.isError = true;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.media-image {\r\n  & > img {\r\n    display: block;\r\n    margin: auto;\r\n    // width: 100%;\r\n    max-width: 100%;\r\n  }\r\n\r\n  .media-image-placeholder {\r\n    width: 100%;\r\n    max-width: 100%;\r\n    height: 256px;\r\n    border: 1px dashed #999;\r\n    background-color: rgba(0, 0, 0, 0.1);\r\n\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n}\r\n</style>","import { render, staticRenderFns } from \"./MediaImage.vue?vue&type=template&id=7e974f69&\"\nimport script from \"./MediaImage.vue?vue&type=script&lang=js&\"\nexport * from \"./MediaImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MediaImage.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./MediaImagePicker.vue?vue&type=template&id=1832670e&\"\nimport script from \"./MediaImagePicker.vue?vue&type=script&lang=js&\"\nexport * from \"./MediaImagePicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MediaImagePicker.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaImage.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['media-image', {'ui-clickable': !!this.href}],style:(_vm.style),on:{\"click\":function($event){return _vm.onClick()}}},[(_vm.src && !_vm.isError)?_c('img',{attrs:{\"src\":_vm.src},on:{\"error\":_vm.onImageError}}):_c('div',{staticClass:\"media-image-placeholder\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaImagePicker.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"08dfcdae-vue-loader-template\\\"}!../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaImagePicker.vue?vue&type=template&id=1832670e&\"","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaImagePicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaImagePicker.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaImage.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"08dfcdae-vue-loader-template\\\"}!../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaImage.vue?vue&type=template&id=7e974f69&\"","<template>\r\n  <div\r\n    class=\"media-image-picker\"\r\n    :class=\"{'--empty': isEmpty, '--notempty': !isEmpty}\"\r\n  >\r\n    <div class=\"input-url\">\r\n      <input\r\n        class=\"ui-native\"\r\n        placeholder=\"URL\"\r\n        type=\"text\"\r\n        :value=\"value\"\r\n        @keyup.enter=\"$emit('input', $event.target.value)\"\r\n        @keyup.esc=\"$event.target.value = value\"\r\n        xxxxinput=\"$emit('input', $event.target.value)\"\r\n      />\r\n    </div>\r\n\r\n    <UiFileUploader\r\n      :path=\"path\"\r\n      max-files=\"1\"\r\n      @success=\"onUploadSuccess\"\r\n      @error=\"onUploadError\"\r\n      accepted-files=\"image/*\"\r\n    >\r\n      <div class=\"image-picker-face\">\r\n        <div class=\"image-picker-overlay\">\r\n          <UiIcon value=\"mdi:upload\"></UiIcon>\r\n          <p>Subir imagen</p>\r\n        </div>\r\n        <MediaImage :src=\"value\"></MediaImage>\r\n      </div>\r\n    </UiFileUploader>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MediaImage from './MediaImage.vue';\r\nimport { UiIcon, UiFileUploader } from '/packages/ui';\r\n\r\nexport default {\r\n  name: 'MediaImagePicker',\r\n  components: { MediaImage, UiFileUploader, UiIcon },\r\n  props: {\r\n    path: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n\r\n    value: {\r\n      type: String,\r\n      required: false,\r\n      default: null,\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    isEmpty() {\r\n      return !this.value || !this.value.trim();\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    onUploadSuccess(e) {\r\n      this.$emit('input', e[0].url);\r\n    },\r\n\r\n    onUploadError(err) {\r\n      alert('Error subiendo archivo');\r\n      console.log('Error subiendo archivo', err);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.media-image-picker {\r\n  position: relative;\r\n\r\n  .input-url {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 2;\r\n\r\n    display: flex;\r\n\r\n    input {\r\n      flex: 1;\r\n      margin: 5px;\r\n      background-color: rgba(255, 255, 255, 0.9);\r\n    }\r\n  }\r\n\r\n  .image-picker-face {\r\n    position: relative;\r\n\r\n    .image-picker-overlay {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n\r\n      color: #fff;\r\n      opacity: 0.7;\r\n      text-shadow: 0 1px 2px #000, 0 0 2px #000, -1px 0 2px #000, 1px 0 2px #000;\r\n    }\r\n  }\r\n\r\n  &.--notempty {\r\n    .input-url,\r\n    .image-picker-overlay {\r\n      transition: opacity var(--ui-duration-quick);\r\n      opacity: 0;\r\n    }\r\n\r\n    &:hover {\r\n      .input-url,\r\n      .image-picker-overlay {\r\n        opacity: 1;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"],"sourceRoot":""}