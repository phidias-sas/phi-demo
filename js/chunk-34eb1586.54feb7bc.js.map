{"version":3,"sources":["webpack:///./packages/cms/plugins/school/components/MathKatex/MathKatexPicker.vue?93a5","webpack:///./packages/cms/plugins/school/components/MathKatex/MathKatexPicker.vue?30fb","webpack:///./packages/cms/plugins/school/components/MathKatex/MathKatexPicker.vue?c52e","webpack:///./packages/cms/plugins/school/components/MathKatex/MathKatexPicker.vue?9528","webpack:///./packages/cms/plugins/school/api/math.js","webpack:///./packages/cms/plugins/school/components/MathKatex/MathKatexPicker.vue","webpack:///packages/cms/plugins/school/components/MathKatex/MathKatexPicker.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","value","nativeOn","$event","isOpen","directives","name","rawName","expression","staticStyle","domProps","on","onTextInput","target","q","fetchEquations","results","_v","length","_l","result","i","key","tex","onClickResult","staticRenderFns","httpClient","get","component","components","mixins","$api","props","type","String","required","default","data","methods","$emit"],"mappings":"kHAAA,+F,kCCAA,gBAAqZ,e,2DCArZ,W,kCCAA,wEAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,YAAY,CAACE,YAAY,eAAeC,MAAM,CAAC,MAAQP,EAAIQ,OAAOC,SAAS,CAAC,MAAQ,SAASC,GAAQV,EAAIW,QAAUX,EAAIW,WAAWP,EAAG,MAAM,CAACQ,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASN,MAAOR,EAAIW,SAAWX,EAAIQ,MAAOO,WAAW,qBAAqBT,YAAY,eAAe,CAACF,EAAG,WAAW,CAACE,YAAY,YAAYU,YAAY,CAAC,OAAS,YAAYT,MAAM,CAAC,YAAc,2BAA2BU,SAAS,CAAC,MAAQjB,EAAIQ,OAAOU,GAAG,CAAC,MAAQ,SAASR,GAAQ,OAAOV,EAAImB,YAAYT,EAAOU,OAAOZ,WAAWJ,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,QAAQ,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,OAAO,YAAc,oBAAoBU,SAAS,CAAC,MAAQjB,EAAIqB,GAAGH,GAAG,CAAC,MAAQ,SAASR,GAAQV,EAAIqB,EAAIX,EAAOU,OAAOZ,UAAUJ,EAAG,SAAS,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,UAAUW,GAAG,CAAC,MAAQlB,EAAIsB,eAAe,KAAO,SAASZ,GAAQV,EAAIuB,QAAU,MAAM,CAACvB,EAAIwB,GAAG,cAAcpB,EAAG,MAAM,CAACQ,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASN,MAAOR,EAAIuB,QAAQE,OAAS,EAAGV,WAAW,uBAAuBT,YAAY,wBAAwBN,EAAI0B,GAAI1B,EAAW,SAAE,SAAS2B,EAAOC,GAAG,OAAOxB,EAAG,YAAY,CAACyB,IAAID,EAAEtB,YAAY,eAAeC,MAAM,CAAC,MAAQoB,EAAOG,KAAKrB,SAAS,CAAC,UAAY,SAASC,GAAQ,OAAOV,EAAI+B,cAAcJ,UAAc,QAAQ,IACl4CK,EAAkB,I,kCCDP,gBAACC,GAAD,MAAiB,CAC9BX,eAD8B,SACfD,GACb,OAAOY,EAAWC,IAAX,wBAAwC,CAAEb,U,kCCFrD,2DAQIc,EAAY,eACd,OACA,OACA,QACA,EACA,KACA,KACA,MAIa,aAAAA,E,qHCwCf,QACEtB,KAAM,kBACNuB,WAAY,CAAd,wBACEC,OAAQ,CAAC,EAAX,MACEC,KAAM,EAAR,KAEEC,MAAO,CACL/B,MAAO,CACLgC,KAAMC,OACNC,UAAU,EACVC,QAAS,OAIbC,KAdF,WAeI,MAAO,CACLvB,EAAG,KACHE,QAAS,GACTZ,SAAUV,KAAKO,QAInBqC,QAAS,CACP1B,YADJ,SACA,GACMlB,KAAKU,QAAS,EACdV,KAAK6C,MAAM,QAAStC,IAGtBuB,cANJ,SAMA,GACM9B,KAAK6C,MAAM,QAASnB,EAAOG,KAC3B7B,KAAKsB,QAAU,IAGjB,eAXJ,WAWA,2JACA,gBADA,iEAKA,2BALA,OAKA,UALA","file":"js/chunk-34eb1586.54feb7bc.js","sourcesContent":["export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"08dfcdae-vue-loader-template\\\"}!../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MathKatexPicker.vue?vue&type=template&id=0703c484&\"","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MathKatexPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MathKatexPicker.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MathKatexPicker.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"math-katex-picker\"},[_c('MathKatex',{staticClass:\"ui-clickable\",attrs:{\"value\":_vm.value},nativeOn:{\"click\":function($event){_vm.isOpen = !_vm.isOpen}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOpen || !_vm.value),expression:\"isOpen || !value\"}],staticClass:\"editor-body\"},[_c('textarea',{staticClass:\"ui-native\",staticStyle:{\"resize\":\"vertical\"},attrs:{\"placeholder\":\"Fórmula (formato LaTeX)\"},domProps:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.onTextInput($event.target.value)}}}),_c('div',{staticClass:\"finder\"},[_c('div',{staticClass:\"finder-query\"},[_c('input',{staticClass:\"ui-native\",attrs:{\"type\":\"text\",\"placeholder\":\"URL de Wikipedia\"},domProps:{\"value\":_vm.q},on:{\"input\":function($event){_vm.q = $event.target.value}}}),_c('button',{staticClass:\"ui-native\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.fetchEquations,\"blur\":function($event){_vm.results = []}}},[_vm._v(\"Buscar\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.results.length > 0),expression:\"results.length > 0\"}],staticClass:\"results ui-card ui-z\"},_vm._l((_vm.results),function(result,i){return _c('MathKatex',{key:i,staticClass:\"ui-clickable\",attrs:{\"value\":result.tex},nativeOn:{\"mousedown\":function($event){return _vm.onClickResult(result)}}})}),1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default (httpClient) => ({\r\n  fetchEquations(q) {\r\n    return httpClient.get(`/1/proxy/math/crawler`, { q });\r\n  }\r\n});","import { render, staticRenderFns } from \"./MathKatexPicker.vue?vue&type=template&id=0703c484&\"\nimport script from \"./MathKatexPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./MathKatexPicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MathKatexPicker.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"math-katex-picker\">\r\n    <MathKatex\r\n      :value=\"value\"\r\n      class=\"ui-clickable\"\r\n      @click.native=\"isOpen = !isOpen\"\r\n    />\r\n\r\n    <div\r\n      class=\"editor-body\"\r\n      v-show=\"isOpen || !value\"\r\n    >\r\n      <textarea\r\n        class=\"ui-native\"\r\n        style=\"resize: vertical\"\r\n        placeholder=\"Fórmula (formato LaTeX)\"\r\n        :value=\"value\"\r\n        @input=\"onTextInput($event.target.value)\"\r\n      ></textarea>\r\n\r\n      <div class=\"finder\">\r\n        <div class=\"finder-query\">\r\n          <input\r\n            class=\"ui-native\"\r\n            type=\"text\"\r\n            :value=\"q\"\r\n            @input=\"q = $event.target.value\"\r\n            placeholder=\"URL de Wikipedia\"\r\n          />\r\n          <button\r\n            class=\"ui-native\"\r\n            type=\"button\"\r\n            @click=\"fetchEquations\"\r\n            @blur=\"results = []\"\r\n          >Buscar</button>\r\n        </div>\r\n\r\n        <div\r\n          class=\"results ui-card ui-z\"\r\n          v-show=\"results.length > 0\"\r\n        >\r\n          <MathKatex\r\n            class=\"ui-clickable\"\r\n            v-for=\"(result,i) in results\"\r\n            :key=\"i\"\r\n            @mousedown.native=\"onClickResult(result)\"\r\n            :value=\"result.tex\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useApi } from '/packages/api';\r\nimport MathKatex from './MathKatex.vue';\r\nimport apiMath from '../../api/math.js';\r\n\r\nexport default {\r\n  name: 'MathKatexPicker',\r\n  components: { MathKatex },\r\n  mixins: [useApi],\r\n  $api: apiMath,\r\n\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      required: false,\r\n      default: null,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      q: null,\r\n      results: [],\r\n      isOpen: !!this.value,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    onTextInput(value) {\r\n      this.isOpen = true;\r\n      this.$emit('input', value);\r\n    },\r\n\r\n    onClickResult(result) {\r\n      this.$emit('input', result.tex);\r\n      this.results = [];\r\n    },\r\n\r\n    async fetchEquations() {\r\n      if (!this.q || !this.q.trim()) {\r\n        return;\r\n      }\r\n\r\n      this.results = await this.$api.fetchEquations(this.q);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.math-katex-picker {\r\n  .math-scrim {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n\r\n    z-index: 2;\r\n  }\r\n\r\n  textarea {\r\n    display: block;\r\n    width: 100%;\r\n  }\r\n\r\n  .finder {\r\n    margin-top: var(--ui-breathe);\r\n    position: relative;\r\n\r\n    .results {\r\n      position: absolute;\r\n      left: 0;\r\n      right: 0;\r\n      top: 100%;\r\n\r\n      max-height: 500px;\r\n      overflow-y: auto;\r\n      z-index: 2;\r\n    }\r\n  }\r\n\r\n  .finder-query {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    & > input {\r\n      flex: 1;\r\n    }\r\n  }\r\n}\r\n</style>"],"sourceRoot":""}